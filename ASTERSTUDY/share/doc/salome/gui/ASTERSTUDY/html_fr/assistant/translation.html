
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Traduction d’un assistant de calcul &#8212; AsterStudy v0.11 Documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="No devguide" href="../devguide/devguide.html" />
    <link rel="prev" title="Intégration avec AsterStudy" href="integration.html" />
<script type="text/javascript" src="../_static/switchers.js"></script>
 

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../devguide/devguide.html" title="No devguide"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="integration.html" title="Intégration avec AsterStudy"
             accesskey="P">précédent</a> |</li>
  <span class="language_switcher_placeholder">fr</span>
  
        <li class="nav-item nav-item-0"><a href="../index.html">AsterStudy v0.11 Documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="assistant.html" accesskey="U">Guide de l’assistant de calcul</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="translation-of-calculation-assistant">
<span id="assistant-translation"></span><h1>Traduction d’un assistant de calcul<a class="headerlink" href="#translation-of-calculation-assistant" title="Lien permanent vers ce titre">¶</a></h1>
<p>Une fois l’implémentation d’un assistant de calcul terminée, il est possible de le traduire dans d’autres langues.</p>
<p>Pour réaliser la traduction de l’assistant de calcul dans d’autres langues, la procédure suivante doit être appliquée :</p>
<div class="section" id="pre-requisites">
<h2>Prérequis<a class="headerlink" href="#pre-requisites" title="Lien permanent vers ce titre">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Outil</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><em>asterstudy_assistant</em></td>
<td><p class="first">Ce script fait partie de l’application <em>AsterStudy</em>.</p>
<p class="last">Il est utilisé pour générer le module Python de l’assistant de calcul à partir du fichier déclaration.</p>
</td>
</tr>
<tr class="row-odd"><td><em>pylupdate</em></td>
<td><p class="first">Ce script fait partie de l’application <em>AsterStudy</em> : il se trouve dans le répertoire <em>cmake</em> des sources d”<em>AsterStudy</em>, ou dans le répertoire <em>bin</em> du répertoire d’installation.</p>
<p class="last">Ce script est utilisé pour extraire les ressources depuis les fichiers sources Python dans un format acceptable pour l’outil <em>lupdate</em> de Qt.</p>
</td>
</tr>
<tr class="row-even"><td><em>lupdate</em></td>
<td><p class="first">Cet exécutable fait partie de <em>Qt</em>. Utiliser le <em>lupdate</em> fourni avec la distribution SALOME.</p>
<p class="last">L’outil <em>lupdate</em> est utilisé pour générer ou mettre à jour les fichiers de traduction (extension <code class="docutils literal notranslate"><span class="pre">.ts</span></code>).</p>
</td>
</tr>
<tr class="row-odd"><td><em>linguist</em></td>
<td><p class="first">Cet exécutable fait partie de <em>Qt</em>. Utiliser la version de <em>linguist</em> fourni avec la distribution SALOME.</p>
<p class="last">Ce programme peut être utilisé pour traduire les fichiers de ressources dans la langue cible.</p>
</td>
</tr>
<tr class="row-even"><td><em>lrelease</em></td>
<td><p class="first">Cet exécutable fait partie de <em>Qt</em>. Utiliser la version de <em>lrelease</em> fourni dans la distribution SALOME.</p>
<p class="last">L’outil <em>lrelease</em> est utilisé pour compiler les fichiers de ressources dans un format binaire (extension <code class="docutils literal notranslate"><span class="pre">.qm</span></code>), qui peuvent être chargés dans l’application.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="translation-procedure">
<h2>Procédure de traduction<a class="headerlink" href="#translation-procedure" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="generate-wizard-file">
<h3>1. Génération du fichier assistant<a class="headerlink" href="#generate-wizard-file" title="Lien permanent vers ce titre">¶</a></h3>
<p>La commande suivante permet de générer le module Python de l’assistant de calcul depuis le fichier déclaration. Pour plus de détail sur cette commande voir <a class="reference internal" href="cmd_line_tool.html#assistant-cmd-line-tool"><span class="std std-ref">ici</span></a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>asterstudy_assistant generate /path/to/assistant/directory
</pre></div>
</div>
<p><strong>Note</strong> : le module Python généré est seulement nécessaire pour extraire les ressources à traduire. Il peut ensuite être supprimé car <em>AsterStudy</em> génère ensuite ce fichier à l’exécution de l’assistant depuis le fichier de description (qui est obligatoire dans ce cas). Toutefois, le fichier généré peut être conservé - dans ce cas, il sera chargé automatiquement par <em>AsterStudy</em>. Il également nécessaire de conserver ce fichier si des modifications manuelles sont effectuées.</p>
</div>
<div class="section" id="extract-translations">
<h3>2. Extraire les ressources à traduire<a class="headerlink" href="#extract-translations" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour extraire les ressources à traduire depuis le fichier de l’assistant, utiliser le script <code class="docutils literal notranslate"><span class="pre">pylupdate</span></code> :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>pylupdate -e py -o /tmp/translation.py /path/to/assistant/directory
</pre></div>
</div>
<p><strong>Note</strong> : le fichier de sortie est utilisé temporairement (voir étape suivante), un chemin quelconque peut donc être utilisé. Toutefois, ce fichier doit avoir l’extension .py, sinon l’outil <em>lupdate</em> ne fonctionnera pas.</p>
</div>
<div class="section" id="update-translation-file">
<h3>3. Mettre à jour le fichier de traduction<a class="headerlink" href="#update-translation-file" title="Lien permanent vers ce titre">¶</a></h3>
<p>Utiliser l’outil <em>Qt</em> <code class="docutils literal notranslate"><span class="pre">lupdate</span></code> pour générer ou mettre à jour les fichiers de traduction :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>lupdate -extensions py -locations none -no-obsolete /tmp/translation.py -ts /path/to/assistant/directory/wizard_msg_fr.ts
</pre></div>
</div>
<p><strong>Note</strong> : Le langage cible est automatiquement déduit par lupdate à partir du nom du fichier de traduction, lors du premier lancement. Dans l’exemple ci-dessus, le fichier source est <em>anglais</em> (par défaut) et le fichier cible sera <em>français</em>. Taper <code class="docutils literal notranslate"><span class="pre">lupdate</span> <span class="pre">-h</span></code> pour plus d’information sur les options disponibles.</p>
</div>
<div class="section" id="translate-calculation-assistant">
<h3>4. Traduire l’assistant de calcul<a class="headerlink" href="#translate-calculation-assistant" title="Lien permanent vers ce titre">¶</a></h3>
<p>Utiliser l’outil <em>Qt</em> <code class="docutils literal notranslate"><span class="pre">linguist</span></code> pour traduire les fichiers sources <code class="docutils literal notranslate"><span class="pre">.ts</span></code> dans la langue de destination. Les traductions sont sauvegardées dans le même fichier <code class="docutils literal notranslate"><span class="pre">.ts</span></code>.</p>
</div>
<div class="section" id="compile-translation-file">
<h3>5. Compiler les fichiers traductions<a class="headerlink" href="#compile-translation-file" title="Lien permanent vers ce titre">¶</a></h3>
<p>Compile les fichiers de traduction au format binaire avec l’outil <em>Qt</em> <code class="docutils literal notranslate"><span class="pre">lrelease</span></code> :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>lrelease /path/to/assistant/directory/wizard_msg_fr.ts -qm /path/to/assistant/directory/wizard_msg_fr.qm
</pre></div>
</div>
</div>
<div class="section" id="deploy-translation-file">
<h3>6. Déployer les traductions<a class="headerlink" href="#deploy-translation-file" title="Lien permanent vers ce titre">¶</a></h3>
<p>Déployer les fichiers de traduction avec l’assistant de calcul. Ils seront automatiquement chargés par l’application <em>AsterStudy</em> lors du lancement de l’assistant.</p>
</div>
<div class="section" id="notes-for-developers-of-asterstudy-application">
<h3>Notes pour les développeurs de l’application AsterStudy<a class="headerlink" href="#notes-for-developers-of-asterstudy-application" title="Lien permanent vers ce titre">¶</a></h3>
<p>Lors du développement d’assistants <em>standards</em> déployés avec l’application <em>AsterStudy</em>, utiliser la procédure suivante pour créer les traductions :</p>
<ol class="loweralpha simple">
<li>Créer un sous-répertoire dédié dans le répertoire <code class="docutils literal notranslate"><span class="pre">resources/assistants</span></code> et y placer les nouveaux assistants.</li>
<li>Effectuer les étapes 1 à 4 de la procédure ci-dessus. Utiliser un nom unique pour le fichier de traduction (préférer un nom significatif décrivant la nature de l’assistant, par exemple <code class="docutils literal notranslate"><span class="pre">IsotropicLineaElasticity_msg_fr.ts</span></code>).</li>
<li>Ne pas compiler et déployer les fichiers traduction car cela sera réaliser automatiquement par la procédure d’installation de l’application <em>AsterStudy</em>.</li>
<li>Ajouter les nouvelles traductions dans la section <code class="docutils literal notranslate"><span class="pre">resources</span></code> du fichier <code class="docutils literal notranslate"><span class="pre">resources/SalomeApp.xml.in</span></code>, par exemple :</li>
</ol>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span class="nt">&lt;section</span> <span class="na">name=</span><span class="s">&quot;resources&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;IsotropicLineaElasticity&quot;</span> <span class="na">value=</span><span class="s">&quot;%ASTERSTUDY_ROOT_DIR%/share/salome/resources/asterstudy&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</pre></div>
</div>
<p>Ainsi le fichier de ressources sera automatiquement chargé lors de l’activation du module <em>ASTERSTUDY</em> dans <em>SALOME</em>.</p>
<ol class="loweralpha simple" start="5">
<li>Petite astuce : pour avoir la traduction du nom de l’assistant dans le menu de l’application <em>AsterStudy</em>, ajouter l’option <code class="docutils literal notranslate"><span class="pre">translator</span></code> au <a class="reference internal" href="cfg_file.html#assistant-cfg"><span class="std std-ref">fichier de configuration</span></a> de l’assistant :</li>
</ol>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span class="k">[General]</span>
<span class="na">translator</span> <span class="o">=</span> <span class="s">IsotropicLinearElasticity</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<p/>
  <h3><a href="../index.html">Table des Matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">Traduction d’un assistant de calcul</a><ul>
<li><a class="reference internal" href="#pre-requisites">Prérequis</a></li>
<li><a class="reference internal" href="#translation-procedure">Procédure de traduction</a><ul>
<li><a class="reference internal" href="#generate-wizard-file">1. Génération du fichier assistant</a></li>
<li><a class="reference internal" href="#extract-translations">2. Extraire les ressources à traduire</a></li>
<li><a class="reference internal" href="#update-translation-file">3. Mettre à jour le fichier de traduction</a></li>
<li><a class="reference internal" href="#translate-calculation-assistant">4. Traduire l’assistant de calcul</a></li>
<li><a class="reference internal" href="#compile-translation-file">5. Compiler les fichiers traductions</a></li>
<li><a class="reference internal" href="#deploy-translation-file">6. Déployer les traductions</a></li>
<li><a class="reference internal" href="#notes-for-developers-of-asterstudy-application">Notes pour les développeurs de l’application AsterStudy</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="integration.html"
                        title="Chapitre précédent">Intégration avec AsterStudy</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="../devguide/devguide.html"
                        title="Chapitre suivant">No devguide</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/assistant/translation.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="../devguide/devguide.html" title="No devguide"
             >suivant</a> |</li>
        <li class="right" >
          <a href="integration.html" title="Intégration avec AsterStudy"
             >précédent</a> |</li>
  <span class="language_switcher_placeholder">fr</span>
  
        <li class="nav-item nav-item-0"><a href="../index.html">AsterStudy v0.11 Documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="assistant.html" >Guide de l’assistant de calcul</a> &#187;</li> 
      </ul>
    </div>
 
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016-2019 EDF R&amp;D.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>